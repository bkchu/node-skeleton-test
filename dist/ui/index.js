/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("mobx")):"function"==typeof define&&define.amd?define(["react","mobx"],e):"object"==typeof exports?exports["geniant_node-project"]=e(require("react"),require("mobx")):t["geniant_node-project"]=e(t.react,t.mobx)}(self,(function(t,e){return function(){"use strict";var n={828:function(t,e,n){var o=n(864),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([t.id,"@keyframes BlorpIn{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes BlorpOut{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes growWidthIn{0%{transform:scaleX(0)}100%{transform:scaleX(1)}}@keyframes ZapIn{0%{transform:scale(1.1);opacity:0;filter:blur(20px)}100%{transform:scale(1);opacity:1;filter:blur(0px)}}@keyframes ExpandHeight{0%{max-height:0%}100%{max-height:100%}}@keyframes SimpleZapIn{0%{transform:scale(1.1);opacity:0}100%{transform:scale(1);opacity:1}}@keyframes FadeIn{0%{opacity:0}100%{opacity:1}}","",{version:3,sources:["webpack://./ui/animations.scss"],names:[],mappings:"AAEA,mBACE,GACE,kBAAA,CAEF,KACE,kBAAA,CAAA,CAMJ,oBACE,GACE,kBAAA,CAEF,KACE,kBAAA,CAAA,CAIJ,uBACE,GACE,mBAAA,CAEF,KACE,mBAAA,CAAA,CAIJ,iBACE,GACE,oBAAA,CACA,SAAA,CACA,iBAAA,CAGF,KACE,kBAAA,CACA,SAAA,CACA,gBAAA,CAAA,CAIJ,wBACE,GACE,aAAA,CAGF,KACE,eAAA,CAAA,CAIJ,uBACE,GACE,oBAAA,CACA,SAAA,CAGF,KACE,kBAAA,CACA,SAAA,CAAA,CAIJ,kBACE,GACE,SAAA,CAGF,KACE,SAAA,CAAA",sourcesContent:["// Used for a good blop in style animation\n// Use with cubic-bezier(0.250, 0.250, 0.270, 1.320)\n@keyframes BlorpIn {\n  0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n// Used for a good blorp out style animation\n// Use with cubic-bezier(0.910, -0.380, 0.400, 0.890)\n@keyframes BlorpOut {\n  0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n\n@keyframes growWidthIn {\n  0% {\n    transform: scaleX(0);\n  }\n  100% {\n    transform: scaleX(1);\n  }\n}\n\n@keyframes ZapIn {\n  0% {\n    transform: scale(1.1);\n    opacity: 0;\n    filter: blur(20px);\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 1;\n    filter: blur(0px);\n  }\n}\n\n@keyframes ExpandHeight {\n  0% {\n    max-height: 0%;\n  }\n\n  100% {\n    max-height: 100%;\n  }\n}\n\n@keyframes SimpleZapIn {\n  0% {\n    transform: scale(1.1);\n    opacity: 0;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes FadeIn {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]),e.Z=s},697:function(t,e,n){var o=n(864),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([t.id,".ListView{display:flex;flex-direction:column;flex:1 1 auto;margin-bottom:0px}.ListView__Empty{color:#fff;font-size:16px}.ListView__Row{transition:all .2s ease;display:flex}.ListView--empty{justify-content:center;align-items:center}","",{version:3,sources:["webpack://./ui/components/primitive/list-view/list-view.scss","webpack://./ui/common-style.scss"],names:[],mappings:"AAEA,UACE,YAAA,CACA,qBAAA,CACA,aAAA,CACA,iBAAA,CAEA,iBACE,UCTM,CDUN,cAAA,CAGF,eACE,uBAAA,CACA,YAAA,CAGF,iBACE,sBAAA,CACA,kBAAA",sourcesContent:['@import "../../../common-style.scss";\n\n.ListView {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  margin-bottom: 0px;\n\n  &__Empty {\n    color: $colorBg;\n    font-size: 16px;\n  }\n\n  &__Row {\n    transition: all 0.2s ease;\n    display: flex;\n  }\n\n  &--empty {\n    justify-content: center;\n    align-items: center;\n  }\n}\n',"$colorBg: #fff;\n"],sourceRoot:""}]),e.Z=s},643:function(t,e,n){var o=n(864),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([t.id,".ScrollRegion{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden;position:relative}.ScrollRegion__Bar{cursor:pointer;transition:opacity .2s ease,background-color .2s ease;position:absolute;right:0px;border-radius:3px;width:5px;background:rgbaColor(dark, 0.2);opacity:0;height:0}.ScrollRegion__Bar:hover{background:rgbaColor(dark, 0.5)}.ScrollRegion__Content{position:relative;overflow:hidden;width:100%;height:100%}.ScrollRegion__Wrapper{position:absolute;top:0px;left:0px;flex:1 1 auto;display:flex;flex-direction:column}.ScrollRegion--horizontal{height:5px;right:inherit}.ScrollRegion--horizontal-content{flex-direction:row}.ScrollView--light .ScrollView__Bar{background:rgbaColor(bright, 0.2)}.ScrollView--light .ScrollView__Bar:hover{background:rgbaColor(bright, 0.5)}","",{version:3,sources:["webpack://./ui/components/primitive/scroll-region/scroll-region.scss"],names:[],mappings:"AAEA,cACE,aAAA,CACA,YAAA,CACA,qBAAA,CACA,eAAA,CACA,iBAAA,CAEA,mBACE,cAAA,CACA,qDAAA,CACA,iBAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,+BAAA,CACA,SAAA,CACA,QAAA,CAEA,yBACE,+BAAA,CAIJ,uBACE,iBAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CAGF,uBACE,iBAAA,CACA,OAAA,CACA,QAAA,CACA,aAAA,CACA,YAAA,CACA,qBAAA,CAGF,0BACE,UAAA,CACA,aAAA,CAGF,kCACE,kBAAA,CAMA,oCACE,iCAAA,CAEA,0CACE,iCAAA",sourcesContent:['@import "../../../common-style.scss";\n\n.ScrollRegion {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n\n  &__Bar {\n    cursor: pointer;\n    transition: opacity 0.2s ease, background-color 0.2s ease;\n    position: absolute;\n    right: 0px;\n    border-radius: 3px;\n    width: 5px;\n    background: rgbaColor(dark, 0.2);\n    opacity: 0;\n    height: 0;\n\n    &:hover {\n      background: rgbaColor(dark, 0.5);\n    }\n  }\n\n  &__Content {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  &__Wrapper {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n  }\n\n  &--horizontal {\n    height: 5px;\n    right: inherit;\n  }\n\n  &--horizontal-content {\n    flex-direction: row;\n  }\n}\n\n.ScrollView--light {\n  & .ScrollView {\n    &__Bar {\n      background: rgbaColor(bright, 0.2);\n\n      &:hover {\n        background: rgbaColor(bright, 0.5);\n      }\n    }\n  }\n}\n'],sourceRoot:""}]),e.Z=s},726:function(t,e,n){var o=n(864),i=n.n(o),r=n(352),s=n.n(r)()(i());s.push([t.id,".ScrollView{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden;position:relative}.ScrollView__Bar{cursor:pointer;transition:opacity .2s ease,background-color .2s ease;position:absolute;right:0px;border-radius:3px;width:5px;background:rgba(0,0,0,.25);opacity:0;height:0}.ScrollView__Bar:hover{background:rgba(0,0,0,.4)}.ScrollView__Content{flex:1 1 auto;position:relative;display:flex;flex-direction:column}.ScrollView--horizontal{height:5px;right:inherit}.ScrollView--horizontal-content{flex-direction:row}.ScrollView--light .ScrollView__Bar{background:rgba(250,250,250,.2)}.ScrollView--light .ScrollView__Bar:hover{background:rgba(250,250,250,.5)}","",{version:3,sources:["webpack://./ui/components/primitive/scroll-view/scroll-view.scss"],names:[],mappings:"AAEA,YACE,aAAA,CACA,YAAA,CACA,qBAAA,CACA,eAAA,CACA,iBAAA,CAEA,iBACE,cAAA,CACA,qDAAA,CACA,iBAAA,CACA,SAAA,CACA,iBAAA,CACA,SAAA,CACA,0BAAA,CACA,SAAA,CACA,QAAA,CAEA,uBACE,yBAAA,CAIJ,qBACE,aAAA,CACA,iBAAA,CACA,YAAA,CACA,qBAAA,CAGF,wBACE,UAAA,CACA,aAAA,CAGF,gCACE,kBAAA,CAMA,oCACE,+BAAA,CAEA,0CACE,+BAAA",sourcesContent:['@import "../../../common-style.scss";\n\n.ScrollView {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n\n  &__Bar {\n    cursor: pointer;\n    transition: opacity 0.2s ease, background-color 0.2s ease;\n    position: absolute;\n    right: 0px;\n    border-radius: 3px;\n    width: 5px;\n    background: rgba(#000000, 0.25);\n    opacity: 0;\n    height: 0;\n\n    &:hover {\n      background: rgba(#000000, 0.4);\n    }\n  }\n\n  &__Content {\n    flex: 1 1 auto;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n  }\n\n  &--horizontal {\n    height: 5px;\n    right: inherit;\n  }\n\n  &--horizontal-content {\n    flex-direction: row;\n  }\n}\n\n.ScrollView--light {\n  & .ScrollView {\n    &__Bar {\n      background: rgba(#fafafa, 0.2);\n\n      &:hover {\n        background: rgba(#fafafa, 0.5);\n      }\n    }\n  }\n}\n'],sourceRoot:""}]),e.Z=s},352:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(s[a]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);o&&s[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),e.push(h))}},e}},864:function(t){t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},379:function(t){var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},s=[],c=0;c<t.length;c++){var a=t[c],l=o.base?a[0]+o.base:a[0],h=r[l]||0,u="".concat(l," ").concat(h);r[l]=h+1;var p=n(u),d={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var A=i(d,o);o.byIndex=c,e.splice(c,0,{identifier:u,updater:A,references:1})}s.push(u)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var c=n(r[s]);e[c].references--}for(var a=o(t,i),l=0;l<r.length;l++){var h=n(r[l]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}r=a}}},569:function(t){var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},259:function(t){t.exports=e},156:function(e){e.exports=t}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={id:t,exports:{}};return n[t](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nc=void 0;var r={};return function(){i.r(r),i.d(r,{DebugProps:function(){return pt},ListView:function(){return et},ScrollBarSide:function(){return J},ScrollRegion:function(){return at},ScrollRegionMode:function(){return ct},ScrollView:function(){return $},ScrollViewMode:function(){return K},debugProps:function(){return ut}});var t=i(379),e=i.n(t),n=i(795),o=i.n(n),s=i(569),c=i.n(s),a=i(565),l=i.n(a),h=i(216),u=i.n(h),p=i(589),d=i.n(p),A=i(828),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=u(),e()(A.Z,f),A.Z&&A.Z.locals&&A.Z.locals;var m=i(156),g=i.n(m);function v(...t){return t.filter(Boolean).join(" ").trim()}function S(t){return void 0!==t&&t.toExponential}var C,w=!("undefined"==typeof window||!window.document||!window.document.createElement),b=w;w&&!window.addEventListener&&window.attachEvent,w&&window.screen;b&&(C=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var T,E,x,y,M,B,L,R,D,O,_,I,k,z,N,U=!1;function F(){if(!U){U=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(I=/\b(iPhone|iP[ao]d)/.exec(t),k=/\b(iP[ao]d)/.exec(t),O=/Android/i.exec(t),z=/FBAN\/\w+;/i.exec(t),N=/Mobile/i.exec(t),_=!!/Win64/.exec(t),e){(T=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(T=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(t);B=o?parseFloat(o[1])+4:T,E=e[2]?parseFloat(e[2]):NaN,x=e[3]?parseFloat(e[3]):NaN,(y=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),M=e&&e[1]?parseFloat(e[1]):NaN):M=NaN}else T=E=x=M=y=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);L=!i||parseFloat(i[1].replace("_","."))}else L=!1;R=!!n[2],D=!!n[3]}else L=R=D=!1}}var V={ie:function(){return F()||T},ieCompatibilityMode:function(){return F()||B>T},ie64:function(){return V.ie()&&_},firefox:function(){return F()||E},opera:function(){return F()||x},webkit:function(){return F()||y},safari:function(){return V.webkit()},chrome:function(){return F()||M},windows:function(){return F()||R},osx:function(){return F()||L},linux:function(){return F()||D},iphone:function(){return F()||I},mobile:function(){return F()||I||k||O||N},nativeApp:function(){return F()||z},android:function(){return F()||O},ipad:function(){return F()||k}},H=V;function P(t){let e=0,n=0,o=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),o=10*e,i=10*n,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||i)&&t.deltaMode&&(1===t.deltaMode?(o*=40,i*=40):(o*=800,i*=800)),o&&!e&&(e=o<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:-n,pixelX:o,pixelY:-i}}function j(t){var e,n,o,i,r,s,c,a;null===(e=t.stopPropagation)||void 0===e||e.call(t),null===(n=t.preventDefault)||void 0===n||n.call(t),t.nativeEvent&&(null===(i=(o=t.nativeEvent).stopImmediatePropagation)||void 0===i||i.call(o),null===(s=(r=t.nativeEvent).stopPropagation)||void 0===s||s.call(r),null===(a=(c=t.nativeEvent).preventDefault)||void 0===a||a.call(c))}function Y(t){return"function"==typeof t}function G(t,e,n){return t?Y(e)?e(t):e:n?Y(n)?n():n:void 0}P.getEventType=function(){return H.firefox()?"DOMMouseScroll":function(t,e){if(!b||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var i=document.createElement("div");i.setAttribute(n,"return;"),o="function"==typeof i[n]}return!o&&C&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}("wheel")?"wheel":"mousewheel"};var X=i(726),Z={};Z.styleTagTransform=d(),Z.setAttributes=l(),Z.insert=c().bind(null,"head"),Z.domAPI=o(),Z.insertStyleElement=u(),e()(X.Z,Z),X.Z&&X.Z.locals&&X.Z.locals;const{min:q,max:W}=Math;var J;!function(t){t[t.RIGHT=0]="RIGHT",t[t.LEFT=1]="LEFT"}(J||(J={}));const K={LIGHT:"ScrollView--light",DARK:"ScrollView--dark"};class $ extends g().Component{constructor(){super(...arguments),this.state={isOpen:!1,isDragging:!1,top:0},this.container=g().createRef(),this.content=g().createRef(),this.initialized=!1,this.childrenChanged=!1,this.isUpdatingChildren=!1,this.animateScrollId=-1,this.touch={id:0,y:0,inertia:0,animation:-1},this.init=()=>{const{horizontal:t}=this.props,{bounds:e,contentBounds:n}=this.state;if(t){if(!(null==e?void 0:e.width)||!(null==n?void 0:n.width)||e.width>=n.width)return}else if(!(null==e?void 0:e.height)||!(null==n?void 0:n.height)||e.height>=n.height)return;if(!this.initialized&&e&&n&&this.container.current&&(this.initialized=!0,this.props.onScroll)){const o=this.getScrollMetrics();this.props.onScroll(t?this.container.current.scrollLeft:this.container.current.scrollTop,o.scrollSpace,e,n)}},this.animateScrollOnce=(t,e)=>{let n=0;const o=this.props.autoScrollDuration||170,i=r=>{var s;if(!this.container.current)return;if(!this.content.current)return;const{horizontal:c}=this.props,a=this.container.current.getBoundingClientRect(),l=null===(s=this.content.current)||void 0===s?void 0:s.getBoundingClientRect(),h=this.getScrollMetrics(a,l);if(!this.container.current)return;n||(n=r);const u=(r-n)/o,p=function(t,e,n){return(e-t)*((n=q(W(n,0),1))<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1)+t}(t,e,u);c?this.container.current.scrollLeft=Math.max(Math.min(p||0,h.scrollSpace),0):this.container.current.scrollTop=Math.max(Math.min(p||0,h.scrollSpace),0),this.setState({top:c?this.container.current.scrollLeft:this.container.current.scrollTop,bounds:a,contentBounds:l}),this.props.onScroll&&a&&l&&this.container.current&&this.props.onScroll(c?this.container.current.scrollLeft:this.container.current.scrollTop,h.scrollSpace,a,l,!0),this.state.animating&&u<1&&(this.animateScrollId=requestAnimationFrame(i))};return i},this.handleResize=()=>{this.setState({bounds:void 0,contentBounds:void 0})},this.handleTouchStart=t=>{let e=null;for(let n=0,o=t.touches.length;n<o&&(e=t.touches.item(n),!e);++n);e&&(this.touch.y=e.pageY,this.touch.id=e.identifier),this.setState({top:this.state.top,isOpen:!0,animating:!1}),cancelAnimationFrame(this.touch.animation),this.touch.animation=-1},this.handleTouchEnd=t=>{const{horizontal:e}=this.props;let n=null;for(let e=0,o=t.touches.length;e<o;++e)if(n=t.touches.item(e),n){if(n.identifier===this.touch.id)break;n=null}if(!n)for(let e=0,o=t.targetTouches.length;e<o;++e)if(n=t.targetTouches.item(e),n){if(n.identifier===this.touch.id)break;n=null}if(!n)for(let e=0,o=t.changedTouches.length;e<o;++e)if(n=t.changedTouches.item(e),n){if(n.identifier===this.touch.id)break;n=null}if(n&&(this.setState({top:this.state.top,isOpen:!1}),Math.abs(this.touch.inertia)>0&&this.container.current)){const{bounds:t,contentBounds:n}=this.state,o=this.container.current;cancelAnimationFrame(this.touch.animation);const i=()=>{e?o.scrollLeft+=this.touch.inertia:o.scrollTop+=this.touch.inertia;const r=this.getScrollMetrics();e?o.scrollLeft=Math.min(o.scrollLeft,r.scrollSpace):o.scrollTop=Math.min(o.scrollTop,r.scrollSpace),this.setState({top:e?o.scrollLeft:o.scrollTop}),this.props.onScroll&&t&&n&&this.props.onScroll(e?o.scrollLeft:o.scrollTop,r.scrollSpace,t,n),this.touch.inertia*=.95,Math.abs(this.touch.inertia)>.001?requestAnimationFrame(i):this.touch.animation=-1};this.touch.animation=requestAnimationFrame(i)}},this.handleTouchMove=t=>{if(!(t.currentTarget instanceof HTMLDivElement))return;const{horizontal:e}=this.props,{bounds:n,contentBounds:o,isOpen:i}=this.state;let r=null;for(let e=0,n=t.touches.length;e<n&&(r=t.touches.item(e),!r||r.identifier!==this.touch.id);++e);if(!r)return;e?t.currentTarget.scrollLeft+=this.touch.y-r.pageX:t.currentTarget.scrollTop+=this.touch.y-r.pageY,this.touch.inertia=this.touch.y-r.pageY,this.props.allowTouchInertia||(this.touch.inertia=0),this.touch.y=e?r.pageX:r.pageY;const s=this.getScrollMetrics();e?t.currentTarget.scrollLeft=Math.min(t.currentTarget.scrollLeft,s.scrollSpace):t.currentTarget.scrollTop=Math.min(t.currentTarget.scrollTop,s.scrollSpace),this.setState({top:e?t.currentTarget.scrollLeft:t.currentTarget.scrollTop,animating:!1}),this.props.onScroll&&n&&o&&this.props.onScroll(e?t.currentTarget.scrollLeft:t.currentTarget.scrollTop,s.scrollSpace,n,o),i&&n&&s.barRatio<1&&j(t),cancelAnimationFrame(this.touch.animation)},this.handleWheel=t=>{if(!(t.currentTarget instanceof HTMLDivElement))return;if(this.props.preventWheel)return;const{horizontal:e}=this.props,{bounds:n,contentBounds:o,isOpen:i}=this.state,r=P(t);if(e){if(this.props.onlyHorizontalWheel&&Math.abs(r.pixelX)<Math.abs(r.pixelY))return;t.currentTarget.scrollLeft+=r.pixelX,t.currentTarget.scrollLeft-=r.pixelY}else t.currentTarget.scrollTop-=r.pixelY;const s=this.getScrollMetrics();e?t.currentTarget.scrollLeft=Math.min(t.currentTarget.scrollLeft,s.scrollSpace):t.currentTarget.scrollTop=Math.min(t.currentTarget.scrollTop,s.scrollSpace),this.setState({top:e?t.currentTarget.scrollLeft:t.currentTarget.scrollTop,animating:!1}),this.props.onScroll&&n&&o&&this.props.onScroll(e?t.currentTarget.scrollLeft:t.currentTarget.scrollTop,s.scrollSpace,n,o),i&&n&&s.barRatio<1&&(this.props.allowScrollFlowThrough?Math.floor(t.currentTarget.scrollTop)<Math.floor(s.scrollSpace)&&Math.floor(t.currentTarget.scrollTop)>0&&j(t):j(t))},this.handleBarDown=t=>{const{horizontal:e}=this.props,{bounds:n,contentBounds:o}=this.state,i=this.getScrollMetrics(),r=i.scrollSpace/i.barSpace;let s=e?t.nativeEvent.clientX:t.nativeEvent.clientY;this.setState({isDragging:!0,animating:!1});const c=t.currentTarget,a=t.pointerId;c.setPointerCapture(a);const l=t=>{if("which"in t){if(!(1&t.which))return void h()}else if(!(1&t.buttons))return void h();const c=e?t.clientX:t.clientY,a=c-s;return s=c,this.container.current&&(e?this.container.current.scrollLeft+=a*r:this.container.current.scrollTop+=a*r,e?this.container.current.scrollLeft=Math.min(this.container.current.scrollLeft,i.scrollSpace):this.container.current.scrollTop=Math.min(this.container.current.scrollTop,i.scrollSpace),this.setState({top:e?this.container.current.scrollLeft:this.container.current.scrollTop})),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,this.props.onScroll&&n&&o&&this.container.current&&this.props.onScroll(e?this.container.current.scrollLeft:this.container.current.scrollTop,i.scrollSpace,n,o),!1},h=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",h),c.removeEventListener("mouseup",h),c.releasePointerCapture(a),this.setState({isDragging:!1})};document.addEventListener("mousemove",l),document.addEventListener("mouseup",h),c.addEventListener("mouseup",h)}}getSnapshotBeforeUpdate(t){return this.isUpdatingChildren||(this.childrenChanged=t.children===this.props.children),this.isUpdatingChildren=!1,null}componentDidMount(){this.componentDidUpdate(),window.addEventListener("resize",this.handleResize),setTimeout((()=>this.componentDidUpdate()),10),this.container.current&&(this.container.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.container.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.current.addEventListener("touchstart",this.handleTouchStart),this.container.current.addEventListener("touchend",this.handleTouchEnd))}componentDidUpdate(){var t;const{horizontal:e}=this.props,{bounds:n,contentBounds:o}=this.state;if((!this.state.bounds||this.childrenChanged)&&this.content.current&&this.container.current){this.childrenChanged=!1,this.isUpdatingChildren=!0;const t=this.container.current.getBoundingClientRect(),n=this.content.current.getBoundingClientRect();if(this.props.onScroll){const o=this.getScrollMetrics();this.props.onScroll(e?this.container.current.scrollLeft:this.container.current.scrollTop,o.scrollSpace,t,n)}this.setState({bounds:t,contentBounds:n})}if(n&&o&&this.content.current&&this.container.current){const t=this.container.current.getBoundingClientRect(),e=this.content.current.getBoundingClientRect();t.width===n.width&&t.height===n.height&&e.width===o.width&&e.height===o.height||this.setState({bounds:t,contentBounds:e})}let i=this.props.scrollTopOnce;if(void 0!==i&&isNaN(i)&&(i=0),n&&o&&this.container.current&&this.scrolledToOnce!==i){const n=this.container.current.getBoundingClientRect(),o=null===(t=this.content.current)||void 0===t?void 0:t.getBoundingClientRect();this.scrolledToOnce=i||0;const r=this.scrolledToOnce;let s=e?this.container.current.scrollLeft:this.container.current.scrollTop;if(0===this.props.autoScrollDuration&&(s=this.scrolledToOnce,e?this.container.current.scrollLeft=s:this.container.current.scrollTop=s),this.setState({top:s,bounds:n,contentBounds:o,animating:!0}),window.cancelAnimationFrame(this.animateScrollId),0!==this.props.autoScrollDuration&&(this.animateScrollId=requestAnimationFrame(this.animateScrollOnce(s,r))),this.props.onScroll&&n&&o&&this.container.current){const t=this.getScrollMetrics(n,o);this.props.onScroll(e?this.container.current.scrollLeft:this.container.current.scrollTop,t.scrollSpace,n,o)}}else if(n&&o&&this.container.current&&this.currentScrollHeight!==this.props.scrollHeight&&this.props.onScroll){this.currentScrollHeight=this.props.scrollHeight;const t=this.getScrollMetrics();this.props.onScroll(e?this.container.current.scrollLeft:this.container.current.scrollTop,t.scrollSpace,n,o)}}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.container.current&&(this.container.current.removeEventListener("wheel",this.handleWheel),this.container.current.removeEventListener("touchmove",this.handleTouchMove),this.container.current.removeEventListener("touchstart",this.handleTouchStart),this.container.current.removeEventListener("touchend",this.handleTouchEnd))}getScrollMetrics(t,e){const{horizontal:n}=this.props;let{bounds:o,contentBounds:i}=this.state;o=t||o,i=e||i;let r=0,s=1,c=0,a=0;return n?(o&&i&&(s=o.width/i.width,r=s*o.width,r=Math.max(r,30),r=Math.min(r,o.width)),s<1&&o&&i&&(c=o.width-r,a=i.width-o.width)):(o&&i&&(s=o.height/i.height,r=s*o.height,r=Math.max(r,30),r=Math.min(r,o.height)),s<1&&o&&i&&(c=o.height-r,a=i.height-o.height)),{barHeight:r,barRatio:s,barSpace:c,scrollSpace:a}}render(){const{isOpen:t,isDragging:e,bounds:n,top:o}=this.state,{className:i,contentClassName:r,containerProps:s,contentProps:c,children:a,scrollHeight:l,side:h=J.RIGHT,horizontal:u,alwaysShowScroll:p,mode:d=K.DARK}=this.props;let A=o;const f=this.getScrollMetrics();return A+=o/f.scrollSpace*f.barSpace,isNaN(A)&&(A=0),g().createElement("div",Object.assign({className:v("ScrollView",d,i)},s,{ref:this.container,style:Object.assign(Object.assign({},null==s?void 0:s.style),{flexDirection:u?"row":void 0}),onMouseOver:()=>{this.setState({top:o,isOpen:!0}),this.forceUpdate()},onMouseLeave:t=>{const e=t.nativeEvent;let n=e.toElement||e.relatedTarget;for(;n;){if(n.parentNode===this.container.current||n===this.container.current)return;n=n.parentElement}this.setState({top:o,isOpen:!1})}}),g().createElement("div",Object.assign({ref:this.content,className:v("ScrollView__Content",G(u,"ScrollView--horizontal-content"),r),style:{height:l,flex:`1 1 ${l}px`,minHeight:l}},c),a),g().createElement("div",{className:v("ScrollView__Bar",u?"ScrollView--horizontal":void 0),style:(()=>u?{left:A,width:G((t||p||this.touch.animation>=0)&&n&&f.barRatio<1||e,f.barHeight,0),opacity:G((t||p||this.touch.animation>=0)&&n&&f.barRatio<1||e,1,0),top:G(h===J.LEFT,"0px"),bottom:G(h===J.RIGHT,"0px")}:{top:A,height:G((t||p||this.touch.animation>=0)&&n&&f.barRatio<1||e,f.barHeight,0),opacity:G((t||p||this.touch.animation>=0)&&n&&f.barRatio<1||e,1,0),left:G(h===J.LEFT,"0px"),right:G(h===J.RIGHT,"0px")})(),onPointerDown:this.handleBarDown}))}}var Q=i(697),tt={};tt.styleTagTransform=d(),tt.setAttributes=l(),tt.insert=c().bind(null,"head"),tt.domAPI=o(),tt.insertStyleElement=u(),e()(Q.Z,tt),Q.Z&&Q.Z.locals&&Q.Z.locals;class et extends g().Component{constructor(t){super(t),this.state={top:0,startIndex:0,endIndex:0,totalHeight:0},this.container=g().createRef(),this.rowTop=[],this.lastRowHeight=0,this.maxRowSize=-1,this.mounted=!1,this.willMeasure=new Set,this.measuring=new Map,this.hasAutoHeightRows=!1,this.isMonitoring=void 0,this.handleResize=()=>{if(this.hasAutoHeightRows){for(let t=0;t<this.props.total;++t)this.willMeasure.add(t);this.forceUpdate()}},this.handleScroll=(t,e,n,o)=>{const{rowSize:i,total:r,onScroll:s,onRange:c}=this.props;let a=-1,l=-1;if(S(i))a=Math.floor(t/i)-1,l=Math.floor((t+n.height)/i)+1;else{a=0,l=0;let e=0,o=-1;const i=t+n.height;for(;e<t&&++o<this.rowTop.length;)e=this.rowTop[o];for(a=o-1;e<i&&++o<this.rowTop.length;)e=this.rowTop[o];l=o+1}a=Math.min(Math.max(a,0),r-1),l=Math.min(Math.max(l,0),r-1),a===this.state.startIndex&&l===this.state.endIndex||(null==c||c(a,l,r,l===r-1),this.setState({startIndex:a,endIndex:l})),s&&s(t,e,n,o)},this.recalculateRows=()=>{this.rowUpdateContext=!this.props.rowUpdate,this.setState({})},this.shouldComponentUpdate(this.props)}componentDidMount(){this.mounted=!0,this.forceUpdate(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){this.observer&&this.observer.disconnect(),window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){if(this.measuring.size>0){const t=Array.from(this.measuring.keys()),e=this.props.rowGap||0;t.sort();let n=0;for(let o=0,i=t.length;o<i;++o){const i=t[o],r=t[o+1]||this.rowTop.length-1;if(i===this.rowTop.length-1){const t=this.measuring.get(i);if(!t||!t.current)continue;const n=t.current.getBoundingClientRect();this.lastRowHeight=n.height+e,this.willMeasure.delete(i);continue}const s=this.rowTop[i],c=this.rowTop[i+1],a=this.measuring.get(i);if(a&&a.current){n=s+a.current.getBoundingClientRect().height+e-c,this.willMeasure.delete(i);for(let t=i+1;t<=r;++t)this.rowTop[t]+=n}}this.measuring.clear(),this.forceUpdate()}}shouldComponentUpdate(t){return S(t.rowSize)?(this.rowTop=[],this.maxRowSize=t.rowSize,!0):(t.rowUpdate===this.rowUpdateContext&&t.total===this.props.total&&this.mounted||(this.queueRemeasure(t),setTimeout((()=>{this.queueRemeasure(t),this.forceUpdate()}),500)),!0)}queueRemeasure(t){if(S(t.rowSize))return;this.rowUpdateContext=t.rowUpdate;let e=0;this.willMeasure.clear(),this.rowTop=[];for(let n=0;n<t.total;++n){let o=t.rowSize(n,n===t.total-1);o<0?(o*=-1,this.willMeasure.add(n),this.hasAutoHeightRows=!0,this.rowTop[n]||(this.rowTop[n]=e)):this.rowTop[n]=e,n===t.total-1&&(this.lastRowHeight=o),this.maxRowSize=Math.max(this.maxRowSize,o),e+=o}}monitorDOM(t){if(this.hasAutoHeightRows&&t&&this.isMonitoring!==t){let e;this.observer&&this.observer.disconnect(),this.isMonitoring=t;const n=()=>{clearTimeout(e),e=window.setTimeout((()=>{this.recalculateRows()}),500)},o=window.MutationObserver||window.WebKitMutationObserver;this.observer=new o(n),this.observer.observe(t,{subtree:!0,attributes:!0,childList:!0}),n()}}get scrollHeight(){const{rowSize:t,total:e}=this.props;return S(t)?e*t:(this.rowTop[e-1]||0)+Math.abs(this.lastRowHeight)}get scrollStyle(){const{containerProps:t={},rowDisplayCount:e=0}=this.props,{style:n}=t,o={};return e>0&&(o.maxHeight=e*this.maxRowSize),Object.assign(Object.assign({},o),n)}render(){const{allowTouchInertia:t,children:e,className:n,containerProps:o,total:i,scrollToOnce:r,autoScrollDuration:s}=this.props;return i<=0?g().createElement("div",{className:v("ListView","ListView--empty",n)},g().createElement("div",{className:"ListView__Empty"},this.props.emptyLabel)):g().createElement($,{ref:this.container,allowTouchInertia:t,className:v("ListView",n),scrollHeight:this.scrollHeight,containerProps:Object.assign(Object.assign({},o),{style:this.scrollStyle}),scrollTopOnce:r,autoScrollDuration:s,onScroll:this.handleScroll},this.renderListItems(e))}renderListItems(t){const{startIndex:e,endIndex:n}=this.state,{rowSize:o,total:i}=this.props;if(!t)return null;const r=[];let s;s=S(o)?t=>t*o:t=>this.rowTop[t];for(let o=e;o<=n&&o<i;++o){const e=s(o);let c;this.willMeasure.has(o)&&!this.measuring.has(o)&&(c=g().createRef(),this.measuring.set(o,c));const a={position:"absolute",width:"100%",left:0,top:e},l=t({index:o,style:{},isEnd:o===n||o===i-1});if(!l||!g().isValidElement(l))return null;r.push(g().createElement("div",{key:o,className:"ListView__Row",ref:c,style:a},l))}return r}}var nt=i(643),ot={};ot.styleTagTransform=d(),ot.setAttributes=l(),ot.insert=c().bind(null,"head"),ot.domAPI=o(),ot.insertStyleElement=u(),e()(nt.Z,ot),nt.Z&&nt.Z.locals&&nt.Z.locals;const{min:it,max:rt}=Math;function st(t,e,n){return 1,(e-t)*((n=it(rt(n,0),1))<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1)+t}const ct={LIGHT:"ScrollRegion--light",DARK:"ScrollRegion--dark"};class at extends g().Component{constructor(){super(...arguments),this.state={isOpen:!1,isDragging:!1,top:[0,0]},this.container=g().createRef(),this.wrapper=g().createRef(),this.content=g().createRef(),this.initialized=!1,this.childrenChanged=!1,this.isUpdatingChildren=!1,this.animateScrollId=-1,this.touch={id:0,position:[0,0],inertia:[0,0],animation:-1},this.init=()=>{const{bounds:t,contentBounds:e}=this.state;if((null==t?void 0:t.width)&&(null==e?void 0:e.width)&&!(t.width>=e.width)&&(null==t?void 0:t.height)&&(null==e?void 0:e.height)&&!(t.height>=e.height)&&!this.initialized&&t&&e&&this.content.current&&(this.initialized=!0,this.props.onScroll)){const n=this.getScrollMetrics();this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],n.scrollSpace,t,e)}},this.animateScrollOnce=(t,e)=>{let n=0;const o=this.props.autoScrollDuration||170,i=r=>{var s;if(!this.container.current)return;if(!this.content.current)return;if(!this.wrapper.current)return;const c=this.container.current.getBoundingClientRect(),a=null===(s=this.wrapper.current)||void 0===s?void 0:s.getBoundingClientRect(),l=this.getScrollMetrics(c,a);if(!this.container.current)return;n||(n=r);const h=(r-n)/o,u=[st(t[0],e[0],h),st(t[1],e[1],h)];this.content.current.scrollLeft=Math.max(Math.min(u[0]||0,l.scrollSpace[0]),0),this.content.current.scrollTop=Math.max(Math.min(u[1]||0,l.scrollSpace[1]),0),this.setState({top:[this.content.current.scrollLeft,this.content.current.scrollTop],bounds:c,contentBounds:a}),this.props.onScroll&&c&&a&&this.container.current&&this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],l.scrollSpace,c,a,!0),this.state.animating&&h<1&&(this.animateScrollId=requestAnimationFrame(i))};return i},this.handleResize=()=>{this.setState({bounds:void 0,contentBounds:void 0})},this.handleTouchStart=t=>{let e=null;for(let n=0,o=t.touches.length;n<o&&(e=t.touches.item(n),!e);++n);e&&(this.touch.position=[e.pageX,e.pageY],this.touch.id=e.identifier),this.setState({top:this.state.top,isOpen:!0,animating:!1}),cancelAnimationFrame(this.touch.animation),this.touch.animation=-1},this.handleTouchEnd=t=>{let e=null;for(let n=0,o=t.touches.length;n<o;++n)if(e=t.touches.item(n),e){if(e.identifier===this.touch.id)break;e=null}if(!e)for(let n=0,o=t.targetTouches.length;n<o;++n)if(e=t.targetTouches.item(n),e){if(e.identifier===this.touch.id)break;e=null}if(!e)for(let n=0,o=t.changedTouches.length;n<o;++n)if(e=t.changedTouches.item(n),e){if(e.identifier===this.touch.id)break;e=null}if(e&&(this.setState({top:this.state.top,isOpen:!1}),(Math.abs(this.touch.inertia[0])>0||Math.abs(this.touch.inertia[1])>0)&&this.content.current)){const{bounds:t,contentBounds:e}=this.state,n=this.content.current;cancelAnimationFrame(this.touch.animation);const o=()=>{n.scrollLeft+=this.touch.inertia[0],n.scrollTop+=this.touch.inertia[1];const i=this.getScrollMetrics();n.scrollLeft=Math.min(n.scrollLeft,i.scrollSpace[0]),n.scrollTop=Math.min(n.scrollTop,i.scrollSpace[1]),this.setState({top:[n.scrollLeft,n.scrollTop]}),this.props.onScroll&&t&&e&&this.props.onScroll([n.scrollLeft,n.scrollTop],i.scrollSpace,t,e),this.touch.inertia[0]*=.95,this.touch.inertia[1]*=.95,Math.abs(this.touch.inertia[0])>.001||Math.abs(this.touch.inertia[1])>.001?requestAnimationFrame(o):this.touch.animation=-1};this.touch.animation=requestAnimationFrame(o)}},this.handleTouchMove=t=>{if(!(t.currentTarget instanceof HTMLDivElement))return;if(!this.content.current)return;const{bounds:e,contentBounds:n,isOpen:o}=this.state;let i=null;for(let e=0,n=t.touches.length;e<n&&(i=t.touches.item(e),!i||i.identifier!==this.touch.id);++e);if(!i)return;this.content.current.scrollLeft+=this.touch.position[0]-i.pageX,this.content.current.scrollTop+=this.touch.position[1]-i.pageY,this.touch.inertia[0]=this.touch.position[0]-i.pageX,this.touch.inertia[1]=this.touch.position[1]-i.pageY,this.props.allowTouchInertia||(this.touch.inertia=[0,0]),this.touch.position=[i.pageX,i.pageY];const r=this.getScrollMetrics();this.content.current.scrollLeft=Math.min(this.content.current.scrollLeft,r.scrollSpace[0]),this.content.current.scrollTop=Math.min(this.content.current.scrollTop,r.scrollSpace[1]),this.setState({top:[this.content.current.scrollLeft,this.content.current.scrollTop],animating:!1}),this.props.onScroll&&e&&n&&this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],r.scrollSpace,e,n),o&&e&&(r.barRatio[0]<1||r.barRatio[1]<1)&&j(t),cancelAnimationFrame(this.touch.animation)},this.handleWheel=t=>{if(!(t.currentTarget instanceof HTMLDivElement))return;if(this.props.preventWheel)return;if(!this.content.current)return;const{bounds:e,contentBounds:n,isOpen:o}=this.state,i=P(t),r=this.content.current.scrollLeft+i.pixelX,s=this.content.current.scrollTop-i.pixelY,c=this.getScrollMetrics();this.content.current.scrollLeft=Math.min(r,c.scrollSpace[0]),this.content.current.scrollTop=Math.min(s,c.scrollSpace[1]),this.setState({top:[this.content.current.scrollLeft,this.content.current.scrollTop],animating:!1}),this.props.onScroll&&e&&n&&this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],c.scrollSpace,e,n),o&&e&&(c.barRatio[0]<1||c.barRatio[1]<1)&&(this.props.allowScrollFlowThrough?(Math.floor(this.content.current.scrollLeft)<Math.floor(c.scrollSpace[0])&&Math.floor(this.content.current.scrollLeft)>0||Math.floor(this.content.current.scrollTop)<Math.floor(c.scrollSpace[1])&&Math.floor(this.content.current.scrollTop)>0)&&j(t):j(t))},this.handleHorizontalBarDown=t=>{const{bounds:e,contentBounds:n}=this.state,o=this.getScrollMetrics(),i=[o.scrollSpace[0]/o.barSpace[0],o.scrollSpace[1]/o.barSpace[1]];let r=[t.nativeEvent.clientX,t.nativeEvent.clientY];this.setState({isDragging:!0,animating:!1});const s=t.currentTarget,c=t.pointerId;s.setPointerCapture(c);const a=t=>{if("which"in t){if(!(1&t.which))return void l()}else if(!(1&t.buttons))return void l();const s=[t.clientX,t.clientY],c=[s[0]-r[0],s[1]-r[1]];if(r=s,this.content.current){const t=this.content.current.scrollLeft+c[0]*i[0];this.content.current.scrollLeft=Math.min(t,o.scrollSpace[0]),this.setState({top:[this.content.current.scrollLeft,this.content.current.scrollTop]})}return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,this.props.onScroll&&e&&n&&this.content.current&&this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],o.scrollSpace,e,n),!1},l=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),s.removeEventListener("mouseup",l),s.releasePointerCapture(c),this.setState({isDragging:!1})};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),s.addEventListener("mouseup",l)},this.handleVerticalBarDown=t=>{const{bounds:e,contentBounds:n}=this.state,o=this.getScrollMetrics(),i=[o.scrollSpace[0]/o.barSpace[0],o.scrollSpace[1]/o.barSpace[1]];let r=[t.nativeEvent.clientX,t.nativeEvent.clientY];this.setState({isDragging:!0,animating:!1});const s=t.currentTarget,c=t.pointerId;s.setPointerCapture(c);const a=t=>{if("which"in t){if(!(1&t.which))return void l()}else if(!(1&t.buttons))return void l();const s=[t.clientX,t.clientY],c=[s[0]-r[0],s[1]-r[1]];if(r=s,this.content.current){const t=this.content.current.scrollTop+c[1]*i[1];this.content.current.scrollTop=Math.min(t,o.scrollSpace[1]),this.setState({top:[this.content.current.scrollLeft,this.content.current.scrollTop]})}return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,this.props.onScroll&&e&&n&&this.content.current&&this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],o.scrollSpace,e,n),!1},l=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),s.removeEventListener("mouseup",l),s.releasePointerCapture(c),this.setState({isDragging:!1})};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),s.addEventListener("mouseup",l)}}getSnapshotBeforeUpdate(t){return this.isUpdatingChildren||(this.childrenChanged=t.children===this.props.children),this.isUpdatingChildren=!1,null}componentDidMount(){this.componentDidUpdate(),window.addEventListener("resize",this.handleResize),setTimeout((()=>this.componentDidUpdate()),10),this.container.current&&(this.container.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.container.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.current.addEventListener("touchstart",this.handleTouchStart),this.container.current.addEventListener("touchend",this.handleTouchEnd))}componentDidUpdate(){var t;const{bounds:e,contentBounds:n}=this.state;if((!this.state.bounds||this.childrenChanged)&&this.wrapper.current&&this.content.current&&this.container.current){this.childrenChanged=!1,this.isUpdatingChildren=!0;const t=this.container.current.getBoundingClientRect(),e=this.wrapper.current.getBoundingClientRect();if(this.props.onScroll){const n=this.getScrollMetrics();this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],n.scrollSpace,t,e)}this.setState({bounds:t,contentBounds:e})}if(e&&n&&this.wrapper.current&&this.container.current){const t=this.container.current.getBoundingClientRect(),o=this.wrapper.current.getBoundingClientRect();t.width===e.width&&t.height===e.height&&o.width===n.width&&o.height===n.height||this.setState({bounds:t,contentBounds:o})}const o=this.props.scrollToOnce;if(void 0!==o&&isNaN(o[0])&&isNaN(o[1])&&(o[0]=0,o[1]=0),e&&n&&this.content.current&&this.container.current&&this.scrolledToOnce!==o){const e=this.container.current.getBoundingClientRect(),n=null===(t=this.wrapper.current)||void 0===t?void 0:t.getBoundingClientRect();this.scrolledToOnce=o||[0,0];const i=this.scrolledToOnce;let r=[this.content.current.scrollLeft,this.content.current.scrollTop];if(0===this.props.autoScrollDuration&&(r=this.scrolledToOnce,this.content.current.scrollLeft=r[0],this.content.current.scrollTop=r[1]),this.setState({top:r,bounds:e,contentBounds:n,animating:!0}),window.cancelAnimationFrame(this.animateScrollId),0!==this.props.autoScrollDuration&&(this.animateScrollId=requestAnimationFrame(this.animateScrollOnce(r,i))),this.props.onScroll&&e&&n&&this.container.current){const t=this.getScrollMetrics(e,n);this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],t.scrollSpace,e,n)}}else if(e&&n&&this.content.current&&this.currentScrollHeight!==this.props.scrollHeight&&this.props.onScroll){this.currentScrollHeight=this.props.scrollHeight;const t=this.getScrollMetrics();this.props.onScroll([this.content.current.scrollLeft,this.content.current.scrollTop],t.scrollSpace,e,n)}}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.container.current&&(this.container.current.removeEventListener("wheel",this.handleWheel),this.container.current.removeEventListener("touchmove",this.handleTouchMove),this.container.current.removeEventListener("touchstart",this.handleTouchStart),this.container.current.removeEventListener("touchend",this.handleTouchEnd))}getScrollMetrics(t,e){let{bounds:n,contentBounds:o}=this.state;n=t||n,o=e||o;const i=[0,0],r=[1,1],s=[0,0],c=[0,0];return n&&o&&(r[0]=n.width/o.width,i[0]=r[0]*n.width,i[0]=Math.max(i[0],30),i[0]=Math.min(i[0],n.width)),r[0]<1&&n&&o&&(s[0]=n.width-i[0],c[0]=o.width-n.width),n&&o&&(r[1]=n.height/o.height,i[1]=r[1]*n.height,i[1]=Math.max(i[1],30),i[1]=Math.min(i[1],n.height)),r[1]<1&&n&&o&&(s[1]=n.height-i[1],c[1]=o.height-n.height),{barSizes:i,barRatio:r,barSpace:s,scrollSpace:c}}render(){var t,e,n,o,i;const{isOpen:r,isDragging:s,bounds:c,top:a}=this.state,{className:l,contentClassName:h,containerProps:u,contentProps:p,children:d,scrollHeight:A,alwaysShowScroll:f,mode:m=ct.DARK}=this.props,S=[(null===(e=null===(t=this.content)||void 0===t?void 0:t.current)||void 0===e?void 0:e.scrollLeft)||0,(null===(o=null===(n=this.content)||void 0===n?void 0:n.current)||void 0===o?void 0:o.scrollTop)||0],C=this.getScrollMetrics();S[0]=a[0]/C.scrollSpace[0]*C.barSpace[0],S[1]=a[1]/C.scrollSpace[1]*C.barSpace[1],isNaN(S[0])&&(S[0]=0),isNaN(S[1])&&(S[1]=0);const w=[{left:S[0],width:G((r||f||this.touch.animation>=0)&&c&&C.barRatio[0]<1||s,C.barSizes[0],0),opacity:G((r||f||this.touch.animation>=0)&&c&&C.barRatio[0]<1||s,1,0),bottom:"0px"},{top:S[1],height:G((r||f||this.touch.animation>=0)&&c&&C.barRatio[1]<1||s,C.barSizes[1],0),opacity:G((r||f||this.touch.animation>=0)&&c&&C.barRatio[1]<1||s,1,0),right:"0px"}];return g().createElement("div",Object.assign({className:v("ScrollRegion",m,l)},u,{ref:this.container,style:null==u?void 0:u.style,onMouseOver:()=>{this.setState({top:a,isOpen:!0}),this.forceUpdate()},onMouseLeave:t=>{const e=t.nativeEvent;let n=e.toElement||e.relatedTarget;for(;n;){if(n.parentNode===this.container.current||n===this.container.current)return;n=n.parentElement}this.setState({top:a,isOpen:!1})}}),g().createElement("div",Object.assign({ref:this.content,className:v("ScrollRegion__Content",h),style:{height:A,flex:`1 1 ${A}px`,minHeight:A}},p),g().createElement("div",{ref:this.wrapper,className:"ScrollRegion__Wrapper",style:{minWidth:(null===(i=this.content.current)||void 0===i?void 0:i.getBoundingClientRect().width)||0}},d)),g().createElement("div",{className:v("ScrollRegion__Bar","ScrollRegion--horizontal"),style:w[0],onPointerDown:this.handleHorizontalBarDown}),g().createElement("div",{className:v("ScrollRegion__Bar"),style:w[1],onPointerDown:this.handleVerticalBarDown}))}}var lt=i(259);const ht=new Set;function ut(t){const e=t.displayName||t.name||"";class n extends g().Component{componentDidMount(){ht.has(e)||(ht.add(e),console.warn("DEBUG COMPONENT IN USE. ENSURE THIS IS REMOVED BEFORE PRODUCTION:",e)),this.debug()}componentDidUpdate(){this.debug()}debug(){const t=new Set;console.warn(`Props for ${e} -> \n\n`,{json:this.props,string:JSON.stringify((0,lt.toJS)(this.props),((e,n)=>{if(g().isValidElement(n))return`<${n.type}>`;if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return n}))}),t.clear()}render(){return g().createElement(t,Object.assign({},this.props))}}return n.displayName=e,n}class pt extends g().Component{componentDidMount(){this.debug()}componentDidUpdate(){this.debug()}debug(){if(this.props.debug){const t=new Set;console.warn("DEBUG ->\n",{json:this.props,string:JSON.stringify((0,lt.toJS)(this.props),((e,n)=>{if(g().isValidElement(n))return`<${n.type}>`;if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return n}))}),t.clear()}}}}(),r}()}));
//# sourceMappingURL=index.js.map